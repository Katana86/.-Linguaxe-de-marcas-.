
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Add a Policy Entry with a SignedBy Alias</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="wstep2.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolsign" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="wstep4.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Security in Java 2 SDK 1.2
<br>
<b>Lesson</b>: Signing Code and Granting It Permissions
</font>

<h2>
Add a Policy Entry with a SignedBy Alias
</h2>
<blockquote>
To grant code signed by <code>susan</code> permission to
read any files in the <code>C:\TestData</code> directory, you
need to create a policy entry granting this permission.
Note that "Code signed by <code>susan</code>"
is an abbreviated way of saying 
"Code in a class file contained in a JAR file, where the JAR 
file was signed using the private key corresponding to the 
public key that appears in a keystore certificate in an entry 
aliased by <code>susan</code>."

<p>Choose the <b>Add Policy Entry</b> button
in the main Policy Tool window.
This brings up the Policy Entry dialog box:

<p><center><a href="../../figures/security1.2/AddEntryBlank1.gif" target="_top"><IMG SRC="../../figures/security1.2/AddEntryBlank1.gif" WIDTH="460" HEIGHT="212" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></a><br><em>This figure has been reduced to fit on the page. <br> Click the image to view it at its natural size.</em></center></p>
Using this dialog box, type the following alias
into the <b>SignedBy</b> text box:

<blockquote><pre>
<b>susan</b>
</pre></blockquote>

<p>Leave the <b>CodeBase</b> text box blank, to grant
<i>all</i> code signed by <code>susan</code> the permission, 
no matter where it comes from.

<p>
<p><font size="-1">
<blockquote>
Note: If you wanted to restrict the permission to just code signed by 
<code>susan</code> that comes from the <code>C:\Test\</code> directory, 
you would type the following URL
into the <b>CodeBase</b> text box:

<blockquote><pre>
file:/C:/Test/*
</pre></blockquote>

</blockquote>
</font>


<p>To add the permission, choose the <b>Add Permission</b> button.
This brings up the Permissions dialog box.

<p><center><a href="../../figures/security1.2/AddPermBlank.gif" target="_top"><IMG SRC="../../figures/security1.2/AddPermBlank.gif" WIDTH="460" HEIGHT="164" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></a><br><em>This figure has been reduced to fit on the page. <br> Click the image to view it at its natural size.</em></center></p>
<p>Do the following.

<ol>

<li>Choose <b>File Permission</b> from the Permission drop-down list. The
complete permission type name (<code>java.io.FilePermission</code>) 
now appears in the text box to the right of the drop-down list.<p>

<li>Type the following in the text box to the right of the list labeled
Target Name to specify all files in the <code>C:\TestData\</code> directory:

<blockquote><pre>
<b>C:\TestData\*</b>
</pre></blockquote>

<li>Specify read access by choosing the <b>read</b> option from the 
Actions drop-down list.

</ol>

Now the Permissions dialog box looks like the following.

<p><center><a href="../../figures/security1.2/WTaddFilePerm.gif" target="_top"><IMG SRC="../../figures/security1.2/WTaddFilePerm.gif" WIDTH="460" HEIGHT="164" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></a><br><em>This figure has been reduced to fit on the page. <br> Click the image to view it at its natural size.</em></center></p>
<p>Choose the
<b>OK</b> button. The new permission appears in a line
in the Policy Entry dialog, as follows.

<p><center><a href="../../figures/security1.2/WTaddEntry.gif" target="_top"><IMG SRC="../../figures/security1.2/WTaddEntry.gif" WIDTH="460" HEIGHT="240" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></a><br><em>This figure has been reduced to fit on the page. <br> Click the image to view it at its natural size.</em></center></p>
<blockquote>
<hr>
<b>Note:</b> Each backslash in the file path you typed has been replaced
with two backslashes, for your convenience. Strings in a policy file
are processed by a tokenizer that allows \ to be used as an
escape character (for example, <code>\n</code> to indicate a new line), so the policy file
requires <i>two</i> backslashes to indicate a single backslash.
If you use single backslashes as your directory separators,
Policy Tool automatically converts them to double backslashes for you.
<hr></blockquote>

<p>You are now done specifying this policy entry, so choose the <b>Done</b> 
button in the Policy Entry dialog. The Policy Tool window now contains a line
representing the policy entry, showing the 
<b>SignedBy</b> value, as shown in the following figure.

<p><center><a href="../../figures/security1.2/WTptOneSB.gif" target="_top"><IMG SRC="../../figures/security1.2/WTptOneSB.gif" WIDTH="460" HEIGHT="230" ALIGN="BOTTOM" NATURALSIZEFLAG="3" ALT=""></a><br><em>This figure has been reduced to fit on the page. <br> Click the image to view it at its natural size.</em></center></p>

</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="wstep2.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolsign" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="wstep4.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
