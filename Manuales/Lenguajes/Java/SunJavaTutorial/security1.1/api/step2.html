<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Step 2: Generate Public and Private Keys</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="step1.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#api" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="step3.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Security in JDK 1.1
<br>
<b>Lesson</b>: Using the Security API to Generate Public and Private Keys
</font>

<h2>
Step 2: Generate Public and Private Keys
</h2>
<blockquote>
<p>The first thing we must do in order to be able to create a
digital signature is generate a <i>key pair</i>: a private
key and a corresponding public key. A key is a number generated
by a random-number generator. A private key is
required for signing data, and the corresponding public key 
is required for verifying the signature.

<p>A key pair is generated using the KeyPairGenerator class.

<p>In this example we will generate a public-private key pair for the
algorithm named
"DSA" (Digital Signature Algorithm). We will generate keys
with a 1024-bit length.

<p>Generating a key pair is done with the following steps:

<p><b>Create a Key Pair Generator</b>

<blockquote>

<P>
The first step is to get a key pair generator object for generating
keys for the DSA signature algorithm. Put the following statement after the

<pre>
        try {
</pre>

line in the file created in the previous step, <a href = "step1.html">Step 1</a>:

<pre>
            KeyPairGenerator keyGen = KeyPairGenerator.getInstance("DSA");
</pre></blockquote>

<p><b>Initialize the Key Pair Generator</b>

<blockquote>

<p>The next step is to initialize the key pair generator. 
All key pair generators share the concepts of a "strength" and a
source of randomness. The KeyPairGenerator class 
<code>initialize</code> method has these two types of arguments. 

<p>The "strength" for a DSA key generator is the key length (in bits), which
we will set to 1024.

<p>The source of randomness must be an instance of the SecureRandom
class. For simplicity, we will use the empty constructor for 
SecureRandom. It will
automatically generate a "seed" value required for the random number
generation. 

<pre>
            keyGen.initialize(1024, new SecureRandom());
</pre>

<p>Note: the SecureRandom default seed generation algorithm has not 
yet been thoroughly studied or widely deployed. So if we had a 
specific seed value that we wanted used instead, we would
call the SecureRandom constructor that takes a byte array argument.
Thus, if <code>userSeed</code> was a byte array containing the desired seed,
we'd call

<pre>
            keyGen.initialize(1024, new SecureRandom(userSeed));
</pre></blockquote>



<p><b>Generate the Pair of Keys</b>

<blockquote>

The final step is generating the key pair and storing the
keys in an instance of the KeyPair class:

<pre>
            KeyPair pair = keyGen.generateKeyPair();
</pre>

<P>


</blockquote>


</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="step1.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#api" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="step3.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
