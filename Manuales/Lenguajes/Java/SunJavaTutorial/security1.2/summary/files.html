
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Security-related Files Summary</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="tools.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#summary" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="../end.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Security in Java 2 SDK 1.2
<br>
<b>Lesson</b>: Summaries
</font>

<h2>
Security-related Files Summary
</h2>
<blockquote>
<b>The security-related files that are built into JDK 1.2</b> are:

<blockquote>

<ul>

<li>The <code><a href="#SecProps">java.security</a></code> 
Security Properties File<p>

<li>The <code><a href="#SysPolicy">java.policy</a></code> 
"System" Policy File<p>

<li>The <code><a href="#cacerts">cacerts</a></code> Certificates Keystore File<p>

</ul>

These built-in files all reside in the JRE security properties directory,

<blockquote><pre>
<i>java.home</i>/lib/security/    (Solaris)
<i>java.home</i>\lib/security\    (Windows)
</pre></blockquote>

(Note: <i>java.home</i> indicates the directory into which the JRE was installed.)

</blockquote>


<p><b>The security-related files that <i>you</i> may optionally create</b> are:

<blockquote>

<ul>

<li>The <code><a href="#UserPolicy">.java.policy</a></code> or Other "User" 
Policy File<p>

<li><a href="#Keystores">Keystores</a><p>

</ul>

</blockquote>


Each security-related file is described below.

<br>
<br>


<H2><a name="SecProps">The <code><b>java.security</b></code> 
Security Properties File</a></H2>

<blockquote>

In the <code><b>java.security</b></code> security properties file, 
various security properties are set for use by classes in the 
<code>java.security</code> package. 

<p>This file specifies

<ul>

<li><a href = "glossary.html#provider">provider</a> package names, 
locations, and precedence orders.<p>

<li>the class to be instantiated as the 
<a href = "apicore.html#Policy"><code>Policy</code></a>
object that will determine
which permissions are available for code from various sources.<p>

<li>URLs for the policy files to be loaded and utilized when making
policy decisions (if the Policy object instantiated is one that utilizes
policy files).<p>

<li>whether or not property file expansion should be allowed in policy files,
for example, expanding <code>${java.home}</code> to the value of the 
<code>"java.home"</code> property. (initially true)<p>

<li>whether or not an additional policy file can be specified on the command line
with <code>-Djava.security.policy=somefile</code>.  (initially true)<p>

<li>the default keystore type. (initially "jks", the proprietary keystore type
created by Sun Microsystems)<p>

</ul>

See the file for further details. It is located at

<blockquote><pre>
<i>java.home</i>/lib/security/java.security    (Solaris)
<i>java.home</i>\lib/security\java.security    (Windows)
</pre></blockquote>

(<i>java.home</i> indicates the directory into which the JRE was installed.)

</blockquote>



<H2><a name="SysPolicy">The <code>java.policy</code> "System" Policy File</a></H2>
 
<blockquote>

A policy file specifies which permissions are available for code from various sources.

<p>The <code>java.policy</code> file is referred to as the "system" policy file
meant to grant system-wide code permissions. 
The <code>java.policy</code> file installed with the JDK grants all permissions
to standard extensions, allows anyone to listen on un-privileged ports, and
allows any code to read certain "standard" properties, such as the
"os.name" and "file.separator" properties.

<p>If necessary, the system policy file can be modified, either by a text editor (it's
an ASCII text file), or by the <a href = "tools.html"><code>policytool</code></a>. 
The latter doesn't require you to know the policy file format; 
using it saves typing and reduces errors.

<p>The <b><code>java.policy</code></b> file is by default located at 

<blockquote><pre>
<i>java.home</i>/lib/security/java.policy	(Solaris)
<i>java.home</i>\lib/security\java.policy	(Windows)
</pre></blockquote>

(<i>java.home</i> indicates the directory into which the JRE was installed.)

<p>Policy file locations are actually specified in the 
<a href = "#SecProps">security properties file</a> as the values of properties 
whose names are of the form

<blockquote><pre>
policy.url.n=<i>URL</i>
</pre></blockquote>

where "n" is a number. The default system policy file is defined in the security 
properties file as

<blockquote><pre>
policy.url.1=file:${java.home}/lib/security/java.policy
</pre></blockquote>

</blockquote>



<H2><a name="cacerts">The <code>cacerts</code> Certificates Keystore File</a></H2>

<blockquote>

The <code>cacerts</code> file represents a system-wide <a href = "#Keystores">keystore</a> 
with Certification Authority (CA) 
<a href = "glossary.html#Certificate">certificates</a>. 
CAs are entities
(for example, businesses) that are trusted to sign (issue) certificates for other entities.

<p>System administrators can
configure and manage the <code>cacerts</code> file using 
<a href = "tools.html"><code>keytool</code></a>,
specifying "JKS" as the keystore type (a proprietary type defined by Sun Microsystems).
 
<p>At this time, the <code>cacerts</code> keystore file ships with five
VeriSign root CA certificates.

<p>The <b><code>cacerts</code></b> file is located at 

<blockquote><pre>
<i>java.home</i>/lib/security/cacerts (Solaris)
<i>java.home</i>\lib/security\cacerts (Windows)
</pre></blockquote>

(<i>java.home</i> indicates the directory into which the JRE was installed.)

</blockquote>


<H2><a name="UserPolicy">The <code>.java.policy</code> or Other "User" 
Policy Files</H2>

<blockquote>

If you would like to create one or more policy files for your own use,
you may do so, using either a text editor (it's
an ASCII text file), or the <a href = "tools.html"><code>policytool</code></a>. 
The latter doesn't require you to know the policy file format; 
using it saves typing and reduces errors.

<p>The <a href = "#SecProps">security properties file</a> included with the JDK
contains a "placeholder" line specifying a default name and location for one user
policy file:

<blockquote><pre>
policy.url.2=file:${user.home}/.java.policy
</pre></blockquote>

where <code>${user.home}</code> is replaced at runtime by the user's 
"home" directory, as determined by the value of the
<code>"user.home"</code> system property. 
On Solaris, the value is simply the user's
home directory, such as <code>/home/susanj</code>.
On Windows, given user name <i>uName</i>, the <code>"user.home"</code>
property value defaults to

<blockquote><pre>
C:\Winnt\Profiles\uName on multi-user Windows NT systems
C:\Windows\Profiles\uName on multi-user Windows 95 systems
C:\Windows on single-user Windows 95 systems
</pre></blockquote>

<p>Thus, if the user name is "cathy", <code>"user.home"</code> defaults to

<blockquote><pre>
C:\Winnt\Profiles\cathy on multi-user Windows NT systems
C:\Windows\Profiles\cathy on multi-user Windows 95 systems
C:\Windows on single-user Windows 95 systems
</pre></blockquote>

<p>The specified file does <i>not</i> have to exist. But if you create a file of that name,
in that location, the system will load it and use it when making policy decisions.

<p>If you want to create a user policy file but name or locate it differently, simply
edit that line in the security properties file appropriately.

<p>If you want to have additional policy files as well, add a line for each, of the
form

<blockquote><pre>
policy.url.n=<i>URL</i> 
</pre></blockquote>

where <i>n</i> is 3, 4, 5, and so on, and <i>URL</i> is the URL specification.
Note: you can't have any gaps in the numbers, or the ones after the 
gap will be ignored.

</blockquote>


<H2><a name="Keystores">Keystores</a></H2>

<blockquote>

A keystore is a database of keys. 
<a href = "glossary.html#PrivateKey">Private keys</a> in a keystore 
have a certificate chain associated with them, which authenticates 
the corresponding <a href = "glossary.html#PublicKey">public key</a>.
A keystore also contains 
<a href = "glossary.html#Certificate">certificates</a> from trusted entities.

You need a keystore if

<ul>

<li>you want to generate public and private keys for yourself.<p>

<li>you want to use your private key to digitally sign files.<p>

<li>you want to export your public key certificate so others can verify 
digital signatures made
using your corresponding private key.<p>

<li>you want to generate a Certificate Signing Request (CSR) to submit to
a Certification Authority (CA). CAs are entities
(for example, businesses) that are trusted to sign (issue) certificates for other entities. The
CA will authenticate you, the requestor (usually off-line), and then will return a certificate,
signed by them, authenticating your public key.<p>

<li>you want to import others' keys (for example, so you can verify their
signatures) or a certificate reply from a CA.

</ul>

Use the <a href = "tools.html"><code>keytool</code></a> tool to create and manage your keystore.

</blockquote>


</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="tools.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#summary" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="../end.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
