
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Import the Certificate as a Trusted Certificate</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="receiver.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolfilex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="rstep2.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Security in Java 2 SDK 1.2
<br>
<b>Lesson</b>: Exchanging Files
</font>

<h2>
Import the Certificate as a Trusted Certificate
</h2>
<blockquote>
<p>Suppose that you are Ruth and have received
from Stan Smith 

<ul>
<li>The signed JAR file <code>sContract.jar</code>
containing a contract <p>
<li>The file <code>StanSmith.cer</code>
containing the public key certificate for the public key corresponding
to the private key used to sign the JAR file
</ul>

<p>Before you can use the <code>jarsigner</code> tool
to check the authenticity of the JAR file's signature, you need to 
import into your keystore the certificate from Stan.

<p>Even though you (acting as Stan) created these files and they haven't
actually been transported anywhere, you can simulate 
being someone other than the creater and sender, Stan.
Acting as Ruth, type the following to create a keystore named
<code><b>ruthstore</b></code> and import the certificate
into an entry with an alias of <code>stan</code>.

<blockquote><pre>
<b>keytool -import -alias stan -file StanSmith.cer -keystore ruthstore</b>
</pre></blockquote>

Since the keystore doesn't yet exist, it will be created. You will
be prompted for a keystore password; type whatever password you want.

<p>The <code>keytool</code> will print out the certificate information 
and ask you to verify it, for example, by comparing the displayed certificate
fingerprints with those obtained from another (trusted) 
source of information. (Each fingerprint is a relatively short number 
that uniquely and 
reliably identifies the certificate.) For example, in the real world you might
call up Stan and ask him what the fingerprints should be. He can get the
fingerprints of the <code>StanSmith.cer</code> file he
created by executing the command

<blockquote><pre>
<b>keytool -printcert -file StanSmith.cer</b>
</pre></blockquote>

If the fingerprints he sees are the same as the ones reported to you by <code>keytool</code>, 
the certificate has not been modified
in transit. In that case you let <code>keytool</code> proceed with placing  
a "trusted certificate" entry in the keystore. 
The entry contains the public key certificate 
data from the file <code>StanSmith.cer</code> and is assigned the alias
<code>stan</code>.


</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="receiver.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolfilex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="rstep2.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
