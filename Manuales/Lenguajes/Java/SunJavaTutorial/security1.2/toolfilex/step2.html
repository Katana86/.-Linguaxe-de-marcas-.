
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Generate Keys</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="step1.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolfilex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="step3.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Security in Java 2 SDK 1.2
<br>
<b>Lesson</b>: Exchanging Files
</font>

<h2>
Generate Keys
</h2>
<blockquote>
<p>Before signing the <code>Contract.jar</code> JAR file containing the
<code>contract</code> file, you need to generate keys,
if you don't already have suitable keys available.
The private key is needed to sign the JAR file, and the corresponding
public key is needed by the contract receiver to verify the
signature.

<p>This lesson assumes that you don't yet have such keys.
You are going to create a keystore named <code>stanstore</code> and
create an entry with a newly generated public/private key pair
(with the public key in a certificate). 

<p>Now pretend that you are Stan Smith and that you
work in the legal department of XYZ corporation. 
Type the following in your command window to create a 
keystore named <code>stanstore</code> and to
generate keys for Stan Smith:

<blockquote><pre>
<b>keytool -genkey -alias signLegal -keystore stanstore</b>
</pre></blockquote>

<p>You will be prompted for the keystore password, your 
distinguished-name information, and the key password.
Following are the prompts; the bold indicates
what you should type.

<blockquote><pre>
Enter keystore password:  <b>balloon53</b> 
What is your first and last name?
  [Unknown]:  <b>Stan Smith</b> 
What is the name of your organizational unit?
  [Unknown]:  <b>Legal</b> 
What is the name of your organization?
  [Unknown]:  <b>XYZ</b> 
What is the name of your City or Locality?
  [Unknown]:  <b>New York</b>
What is the name of your State or Province?
  [Unknown]:  <b>NY</b> 
What is the two-letter country code for this unit?
  [Unknown]:  <b>US</b> 
Is &lt;CN=Stan Smith, OU=Legal, O=XYZ, L=New York, 
       ST=NY, C=US&gt; correct?
  [no]:  <b>y</b> 
    
Enter key password for <signLegal>
        (RETURN if same as keystore password):  <b>cat876</b> 
</pre></blockquote>

<p>The preceding <code>keytool</code> command creates the keystore named 
<code>stanstore</code> in the same directory in which the command is executed
(assuming that the specified keystore doesn't already exist) and assigns it the password 
<code>balloon53</code>. 
The command generates a public/private key pair for the entity whose distinguished
name has a
common name of Stan Smith and an organizational unit of Legal. 

<p>The self-signed certificate created
includes the public key and the distinguished-name information. 
(A self-signed certificate is one signed by the private key corresponding to
the public key in the certificate.)
This certificate will be valid
for 90 days, the default validity period if you don't specify a
<i>-validity</i> option. The certificate is associated
with the private key in a keystore entry referred to by the
alias <code>signLegal</code>. The private key is assigned the password 
<code>cat876</code>.

</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="step1.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#toolfilex" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="step3.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
