<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Solving Common Sound Problems</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="playing.html" target="_top"><img src="../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="./TOC.html" target="_top"><img src="../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="./end.html" target="_top"><img src="../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="./index.html" target="_top">Start of Trail</a>
&gt;
<a href="" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../search.html" target="_top">Search</a>
<br><a href="../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Sound
</font>

<h2>
Solving Common Sound Problems
</h2>
<blockquote>
<A NAME="1"></A>
<strong>Problem:</strong> 
How can I have an WAV or MP3 file play when an image on 
my Web page is clicked?

<UL>
<LI>
To have a sound play when an image is clicked, your picture 
must be contained in a component that registers mouse events.
The following sample adds a GIF to an <CODE>ImageIcon</CODE> 
and adds the <CODE>ImageIcon</CODE> to 
a <CODE>JButton</CODE>.  When you press the button, a WAV file is played.  
The <CODE>SoundApplet</CODE> code was modified to only contain 
this button.  The resulting applet is called <CODE>PictButton</CODE>. 
Here are the files you will need:
<UL>
  <LI>
    <CODE><A HREF="example-1dot2/PictButton.java">PictButton.java</A></CODE>
    </LI>
  <LI>
    <CODE><A HREF="example-1dot2/AppletSoundList.java">AppletSoundList.java</A></CODE> 
    </LI>
  <LI>
    <CODE><A HREF="example-1dot2/AppletSoundLoader.java">AppletSoundLoader.java</A></CODE> (to load the sound)
    </LI>
  <LI>
    Sample image and sample sound: <CODE><A HREF="example-1dot2/rocketship.gif">rocketship.gif</A></CODE>
     and <CODE><A HREF="example-1dot2/bottle-open.wav">bottle-open.wav</A></CODE>.
    </LI>
  <LI>
    Sample HTML page: <CODE><A HREF="example-1dot2/PictButton.html">PictButton.html</A></CODE>
    </LI>
</UL>    
You must have the Java Plug-in 1.2 to run this sample 
on your browser and you should use the provided sample 
HTML file because it contains instructions that will 
point to the plug-in.
</LI>
</UL>


<BR>
<A NAME="2"></A>
<strong>Problem:</strong> 
Does the Java Platform support audio recording?

<UL>
<LI>
Java 2 (JDK 1.2) does not include support for audio recording. This
functionality will be provided through the Java Sound API and the Java Media
Framework (JMF) 2.0 API. The Java Sound API and a preliminary implementation
will be available soon. The JMF 2.0 API is currently available for public
review. For more information, see the Java Media web pages.
<blockquote>
    Java Sound: 
<a target="other" href="http://java.sun.com/products/java-media/sound"><font color="#009bbb">http://java.sun.com/products/java-media/sound/</font></a><a href="http://java.sun.com/products/java-media/sound"><img src="../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt="(outside of the tutorial)"></a> <br>
    Java Media Framework: 
<a target="other" href="http://java.sun.com/products/java-media/jmf"><font color="#009bbb">http://java.sun.com/products/java-media/jmf/</font></a><a href="http://java.sun.com/products/java-media/jmf"><img src="../images/otherIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt="(outside of the tutorial)"></a> </blockquote>
</LI>
</UL>


<BR>
<A NAME="3"></A>
<strong>Problem:</strong> Is there a way to play a WAV file that does not have 
an URL?


<UL>
<LI>
If you have a file on your system, you can use the code in the tutorial to 
generate the URL.  All that you need to do is:
  <OL>
  <LI>
   Make sure that your WAV file and code are in the same directory.</LI>
  <LI>
   If you are running an applet, add the name of your sound to <CODE>SoundApplet.java</CODE>  
   like this (otherwise, add it to <CODE>SoundApplication.java</CODE>):
<blockquote><pre>   
        String wavFile = "bottle-open.wav";   
</pre></blockquote>     
    If you look at <CODE>SoundApplet.java</CODE> or <CODE>SoundApplication.java</CODE>, you will see the   
    names of our sound files listed in this way near the top of the code.</LI>
    
   <LI>    
    Make sure that you have <CODE>SoundApplet.java</CODE>, <CODE>AppletSoundList.java</CODE> and           
     <CODE>AppletSoundLoader.java</CODE> and be sure that you compile them together like this:
<blockquote><pre>   
     	javac *java
</pre></blockquote> 
    If you are running an application, make sure that you have                   
    <CODE>SoundApplication.java</CODE>, <CODE>SoundList.java</CODE>, and <CODE>SoundLoader.java</CODE></LI>
    </OL>
<P>
The URL is generated by the code with the filename that you give it.  
If you are running the applet code, the base URL is retrieved with 
<CODE>getCodeBase()</CODE>.  The base URL is basically the path 
indicating where your file is located.  For example, if your file 
is located at <CODE>/mymachine/java/samples/sound</CODE> then 
this would be your base URL.
<P>
If you are running the application code, the base URL is retrieved with 
<CODE>System.getProperty("user.dir")</CODE>.  In both cases, the filename 
is attached to the base URL while using the startLoading method.  
You can see an example of this in <CODE>SoundApplet.java</CODE> and 
<CODE>SoundApplication.java</CODE> in the method 
<CODE>startLoadingSounds()</CODE>.

</LI>
</UL>

<BR>
<A NAME="4"></A>
<strong>Problem:</strong> 
I want to play several sound files in succession from an applet. 
However, when I use play two times after each other they just get mixed up.
<UL>
<LI>Unfortunately, the Java 2 SDK does not provide notification of 
when playback has completed.  The Java Sound API provides this 
feature.  It is available as an early access release.  If you 
must use the SDK, you could try to determine the length of each 
clip and sleep for the same about of time before playing the 
next clip.
</LI>
</UL>


</blockquote>

<img src="../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="playing.html" target="_top"><img src="../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="./TOC.html" target="_top"><img src="../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="./end.html" target="_top"><img src="../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="./index.html" target="_top">Start of Trail</a>
&gt;
<a href="" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../search.html" target="_top">Search</a>
<br><a href="../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
