<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Shift and Logical Operators</title>
<script language="JavaScript">
<!-- hide
function openWin(term) {
  url="../../information/glossary.html#" + term;
  myWin= window.open(url, "Glossary",
              "width=400,height=150,scrollbars=yes,status=no,toolbar=no,menubar=no");
  myWin.focus();
}
//-->
</script>
</head>
<body BGCOLOR="#ffffff" LINK="#000099">
<B><FONT SIZE="-1">The Java</font><sup><font size="-2">TM</font></sup> <font size="-1">Tutorial</FONT></B>
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="relational.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#nutsandbolts" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="assignment.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>

<font size="-1">
<b>Trail</b>: Learning the Java Language
<br>
<b>Lesson</b>: Language Basics
</font>

<h2>
Shift and Logical Operators
</h2>
<blockquote>

A shift operator performs bit manipulation on data by shifting the bits of its first operand right or left. This table summarizes the shift operators available in the Java programming language.
<p>
<table border cellpadding=5>
<th>Operator</th>
<th>Use</th>
<th>Operation</th>

<tr>
    <td>
	<code>>></code>
    </td>
    <td>
	<code>op1 >> op2</code>
    </td>
    <td>
	shift bits of <code>op1</code> right by distance <code>op2</code>
    </td>
</tr>
<tr>
    <td>
	<code><<</code>
    </td>
    <td>
	<code>op1 << op2</code>
    </td>
    <td>
	shift bits of <code>op1</code> left by distance <code>op2</code>
    </td>
</tr>
<tr>
    <td>
	<code>>>></code>
    </td>
    <td>
	<code>op1 >>> op2</code>
    </td>
    <td>
	shift bits of <code>op1</code> right by distance <code>op2</code> (unsigned)
    </td>
</tr>
</table>
<p>
Each operator shifts the bits of the left-hand operand over by the number of positions indicated by the right-hand operand. The shift occurs in the direction indicated by the operator itself. For example, the following statement shifts the bits of the integer 13 to the right by one position:
<blockquote><pre>
13 >> 1;
</pre></blockquote>

The binary representation of the number 13 is 1101. The result of the shift operation is 1101 shifted to the right by one position-110, or 6 in decimal. The left-hand bits are filled with 0s as needed.
<p>

The following table shows the four operators the Java programming language provides to perform bitwise functions on their operands:
<p>

<table border cellpadding=5>
<th>Operator</th>
<th>Use</th>
<th>Operation</th>

<tr>
    <td>
	<code>&</code>
    </td>
    <td>
	<code>op1 & op2</code>
    </td>
    <td>
	bitwise <code>and</code>
    </td>
</tr>

<tr>
    <td>
	<code>|</code>
    </td>
    <td>
	<code>op1 | op2</code>
    </td>
    <td>
	bitwise <code>or</code>
    </td>
</tr><tr>
    <td>
	<code>^</code>
    </td>
    <td>
	<code>op1 ^ op2</code>
    </td>
    <td>
	bitwise <code>xor</code>
    </td>
</tr>
<tr>
    <td>
	<code>~</code>
    </td>
    <td>
	<code>~op2</code>
    </td>
    <td>
	bitwise complement
    </td>
</tr>

</table>
<p>

When its operands are numbers, the <code>&</code> operation performs the bitwise <code>AND</code> function on each parallel pair of bits in each operand. The <code>AND</code> function sets the resulting bit to 1 if the corresponding bit in both operands is 1, as shown in the following table.
<p>
<! -- TABLE -->
<table border cellpadding=5>
<th><code>op1</code></th>
<th><code>op2</code></th>
<th>Result</th>

<tr>
    <td>0</td><td>0</td><td>0</td>
</tr>

<tr>
    <td>0</td><td>1</td><td>0</td>
</tr>

<tr>
    <td>1</td><td>0</td><td>0</td>
</tr>

<tr>
    <td>1</td><td>1</td><td>1</td>
</tr>

</table>
<p>
Suppose that you were to <code>AND</code> the values 13 and 12, like this: <code>13 & 12</code>. The result of this operation is 12 because the binary representation of 12 is 1100, and the binary representation of 13 is 1101.
<blockquote><pre>
    1101     //13
  & 1100     //12
  ------
    1100     //12
</pre></blockquote>

If both operand bits are 1, the <code>AND</code> function sets the resulting bit to 1; otherwise, the resulting bit is 0. So, when you line up the two operands and perform the <code>AND</code> function, you can see that the two high-order bits (the two bits farthest to the left of each number) of each operand are 1. Thus, the resulting bit in the result is also 1. The low-order bits evaluate to 0 because either one or both bits in the operands are 0.
When both of its operands are numbers, the <code>|</code> operator performs the <I>inclusive or</I> operation, and <code>^</code> performs the <I>exclusive or</I> (<code>XOR</code>) operation. <I>Inclusive or</I> means that if either of the two bits is 1, the result is 1.  The following table shows the
results of inclusive or operations:
<p>

<! -- TABLE >
<table border cellpadding=5>
<th><code>op1</code></th>
<th><code>op2</code></th>
<th>Result</th>

<tr>
    <td>0</td><td>0</td><td>0</td>
</tr>

<tr>
    <td>0</td><td>1</td><td>1</td>
</tr>

<tr>
    <td>1</td><td>0</td><td>1</td>
</tr>

<tr>
    <td>1</td><td>1</td><td>1</td>
</tr>

</table>
<p>
<I>Exclusive or</I> means that if the two operand bits are different the result is
1, otherwise the result is 0.  The following table shows the results
of an <I>exclusive or</I> operation.
<p>

<! -- TABLE >
<table border cellpadding=5>
<th><code>op1</code></th>
<th><code>op2</code></th>
<th>Result</th>

<tr>
    <td>0</td><td>0</td><td>0</td>
</tr>

<tr>
    <td>0</td><td>1</td><td>1</td>
</tr>

<tr>
    <td>1</td><td>0</td><td>1</td>
</tr>

<tr>
    <td>1</td><td>1</td><td>0</td>
</tr>

</table>
<p>
And finally, the complement operator inverts the value of each bit of the operand:
if the operand bit is 1 the result is 0 and if the operand bit is 0 the result is 1.
<p>
Among other things, bitwise manipulations are useful for managing sets of boolean flags. Suppose, for example, that your program had several boolean flags that indicated the state of various components in your program: is it visible, is it draggable, and so on. Rather than define a separate boolean variable to hold each flag, you could define a single variable, <code>flags</code>, for all of them. Each bit within <code>flags</code> would represent the current state of one of the flags. You would then use bit manipulations to set and to get each flag. 
First, set up constants that indicate the various flags for your program. These flags should each be a different power of 2 to ensure that each bit is used by only one flag. Define a variable, <code>flags</code>, whose bits would be set according to the current state of each flag. The following code sample initializes <code>flags</code> to 0, which means that all flags are <code>false</code> (none of the bits are set). 

<blockquote><pre>
static final int VISIBLE = 1;
static final int DRAGGABLE = 2;
static final int SELECTABLE = 4;
static final int EDITABLE = 8;

int flags = 0;
</pre></blockquote>
To set the "visible" flag when something became visible you would use this statement:
<blockquote><pre>
flags = flags | VISIBLE;
</pre></blockquote>
To test for visibility, you could then write:
<blockquote><pre>
if ((flags & VISIBLE) == VISIBLE) {
    ...
}
</pre></blockquote>
Here's the complete program,
<a target="source" href="example/BitwiseDemo.java"><font color="#bb000f"><code>BitwiseDemo</code></font></a><a href="example/BitwiseDemo.java"><img src="../../images/sourceIcon.gif" width=11 height=11 border=0 align="ABSMIDDLE" alt="(in a .java source file)"></a>, that includes this code.
<blockquote><pre>
public class BitwiseDemo {

    static final int VISIBLE = 1;
    static final int DRAGGABLE = 2;
    static final int SELECTABLE = 4;
    static final int EDITABLE = 8;

    public static void main(String[] args)
    {
        int flags = 0;

        flags = flags | VISIBLE;
        flags = flags | DRAGGABLE;

        if ((flags &amp; VISIBLE) == VISIBLE) {
            if ((flags &amp; DRAGGABLE) == DRAGGABLE) {
                 System.out.println(&quot;Flags are Visible and Draggable.&quot;);
            }
        }

        flags = flags | EDITABLE;

        if ((flags &amp; EDITABLE) == EDITABLE) {
	    System.out.println(&quot;Flags are now also Editable.&quot;);
        }
    }
}
</pre></blockquote>
Here's the output from this program:
<blockquote><pre>
Flags are Visible and Draggable.
Flags are now also Editable.
</pre></blockquote>


</blockquote>

<img src="../../images/blueline.gif" width="550" height="8" ALIGN="BOTTOM" NATURALSIZEFLAG="3">
<br>
<table width="550">
<tr>
<td align="left" valign="center">
<a href="relational.html" target="_top"><img src="../../images/PreviousArrow.gif" width="26" height="26" align="center" border="0" alt="Previous Page"></a>
<a href="../TOC.html#nutsandbolts" target="_top"><img src="../../images/TOCIcon.gif" width="26" height="26" align="center" border="0" alt="Lesson Contents"></a>
<a href="assignment.html" target="_top"><img src="../../images/NextArrow.gif" width="26" height="26" align="center" border="0" alt="Next Page"></a></td>

<td align="center" valign="center">
<font size="-1">
<a href="../../index.html" target="_top">Start of Tutorial</a>
&gt;
<a href="../index.html" target="_top">Start of Trail</a>
&gt;
<a href="index.html" target="_top">Start of Lesson</a>
</font>
</td>

<td align="right" valign="center">
<font size="-1">
<a href="../../search.html" target="_top">Search</a>
<br><a href="../../forms/sendusmail.html">Feedback Form</a>
</font>
</td>

</tr>
</table>
</body>
</html>
